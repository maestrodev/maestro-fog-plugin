{
  "name" : "vsphere provision",
  "description" : "Provision servers with VMWare vSphere",
  "class": "MaestroDev::VSphereWorker",
  "dependencies":[
    {
      "name" : "rbvmomi",
      "version" : "1.5.1",
      "source" : "http://rubygems.org/"
    }
  ],
  "task":{
    "command" : "/vsphere/provision",
    "inputs" :  {
      "host": {
        "description": "vSphere host",
        "required": true, 
        "type": "String", 
        "value": "localhost"
      }, 
      "datacenter": {
        "description": "vSphere datacenter where the server will be created",
        "required": true, 
        "type": "String", 
        "value": "ha-datacenter"
      }, 
      "username": {
        "description": "vSphere username",
        "required": true, 
        "type": "String", 
        "value": null
      },
      "password": {
        "description": "vSphere password",
        "required": true, 
        "type": "Password", 
        "value": null
      }, 
      "template_name": {
        "description": "name of the server template to use",
        "required": true, 
        "type": "String", 
        "value": null
      }
    },
    "outputs" : {
      "vsphere_ips": {"type" : "Array"},
      "vsphere_ids": {"type" : "Array"}
    },
    "icon":"vsphere.png"
  },
  "source_types": [
    {
      "name" : "vsphere",
      "options" : {
        "host": "String",
        "datacenter": "String",
        "username": "String",
        "password": "Password",
        "template_name": "String"
      }
    }
  ]
}
