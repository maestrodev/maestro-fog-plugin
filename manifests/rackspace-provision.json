{
  "name" : "rackspace provision",
  "description" : "Provision servers in Rackspace",
  "class": "MaestroDev::RackspaceWorker",
  "task":{
    "command" : "/rackspace/provision",
    "inputs" :  {
      "username": {
        "description": "Rackspace username",
        "required": true, 
        "type": "String", 
        "value": null
      },
      "api_key": {
        "description": "Rackspace API key",
        "required": true, 
        "type": "Password", 
        "value": null
      }, 
      "image_id": {
        "description": "id of the image to use (ie. 49 for Ubuntu)",
        "required": true, 
        "type": "Integer", 
        "value": 49
      }, 
      "flavor_id": {
        "description": "Flavor id that defines ram, cpu,...",
        "required": true, 
        "type": "Integer", 
        "value": 1
      }, 
      "auth_url": {
        "description": "authentication endpoint, default to https://auth.api.rackspacecloud.com for US accounts, https://lon.auth.api.rackspacecloud.com for UK ones",
        "required": false, 
        "type": "String", 
        "value": null
      }, 
      "public_key": {
        "description": "public key content to copy to the server as authorized key",
        "required": false, 
        "type": "String", 
        "value": null
      }
    },
    "outputs" : {
      "rackspace_ips": {"type" : "Array"},
      "rackspace_ids": {"type" : "Array"}
    },
    "icon":"rackspace.png"
  },
  "source_types": [
    {
      "name" : "rackspace",
      "options" : {
        "username": "String",
        "api_key": "Password",
        "auth_url": "String",
        "image_id": "Integer",
        "flavor_id": "Integer",
        "public_key": "String"
      }
    }
  ]
}
